# -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure("2") do |config|
  config.ssh.insert_key = false
  config.vm.define "minikube" do |m|
    m.vm.box = "centos7"
    m.vm.hostname = "minikube"
    m.vm.provider "hyperv" do |h|
      h.vmname = "Vagrant-minikube"
      h.cpus = 8
      h.memory = 4096
      h.maxmemory = nil  
      h.linked_clone = true
      h.enable_virtualization_extensions = true
    end
  end  
  config.vm.define "kubemaster" do |k|
    k.vm.box = "centos7"
    k.vm.hostname = "kubemaster"
    k.vm.provider "hyperv" do |h|
      h.vmname = "Vagrant-kubemaster"
      h.cpus = 8
      h.memory = 2048
      h.maxmemory = nil  
      h.linked_clone = true
      h.enable_virtualization_extensions = true
    end
  end  
  config.vm.define "kubenode1" do |n1|
    n1.vm.box = "centos7"
    n1.vm.hostname = "kubenode1"    
    n1.vm.provider "hyperv" do |h|
      h.vmname = "Vagrant-kubenode1"
      h.cpus = 8
      h.memory = 4096
      h.maxmemory = nil
      h.linked_clone = true
      h.enable_virtualization_extensions = true
    end
  end
  config.vm.define "kubenode2" do |n2|
    n2.vm.box = "centos7"
    n2.vm.hostname = "kubenode2"    
    n2.vm.provider "hyperv" do |h|
      h.vmname = "Vagrant-kubenode2"
      h.cpus = 8
      h.memory = 4096
      h.maxmemory = nil
      h.linked_clone = true
      h.enable_virtualization_extensions = true
    end
  end
end